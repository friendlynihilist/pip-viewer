###########################################################################
# Cantaloupe IIIF Image Server Configuration
# Per TEI-IIIF Viewer
###########################################################################

# !! Lasciare vuoto per utilizzare tutte le interfacce di rete
http.enabled = true
http.host = 0.0.0.0
http.port = 8182

# !! Lasciare vuoto per utilizzare tutte le interfacce di rete
https.enabled = false

###########################################################################
# ENDPOINTS
###########################################################################

endpoint.iiif.1.enabled = false
endpoint.iiif.2.enabled = true
endpoint.iiif.3.enabled = false

endpoint.api.enabled = true
endpoint.api.username = admin
endpoint.api.secret = changeme

###########################################################################
# SOURCES
###########################################################################

# Source principale: FilesystemSource
source.static = FilesystemSource

# Configurazione FilesystemSource
FilesystemSource.BasicLookupStrategy.path_prefix = ./images/
FilesystemSource.BasicLookupStrategy.path_suffix =

# Il lookup strategy determina come tradurre l'identifier della richiesta nel percorso del file
FilesystemSource.lookup_strategy = BasicLookupStrategy

###########################################################################
# PROCESSORS
###########################################################################

# Processore per le immagini
# Java2dProcessor Ã¨ affidabile e funziona con la maggior parte delle immagini
# Per prestazioni migliori con immagini TIFF, considerare KakaduNativeProcessor
processor.selection_strategy = AutomaticSelectionStrategy
processor.ManualSelectionStrategy.jpg = Java2dProcessor
processor.ManualSelectionStrategy.png = Java2dProcessor
processor.ManualSelectionStrategy.tif = Java2dProcessor
processor.AutomaticSelectionStrategy.fallback = Java2dProcessor

# Abilitare il supporto per PDF (opzionale)
processor.pdf = PdfBoxProcessor

###########################################################################
# CACHING
###########################################################################

# Cache per le immagini derivate (tiles, regioni, ecc.)
cache.server.derivative.enabled = true
cache.server.derivative = FilesystemCache
cache.server.derivative.ttl_seconds = 2592000

# Cache per le informazioni delle immagini sorgente
cache.server.info.enabled = true
cache.server.info.ttl_seconds = 2592000

# Cache lato client
cache.client.enabled = true
cache.client.max_age = 2592000
cache.client.shared_max_age =
cache.client.public = true
cache.client.private = false
cache.client.no_cache = false
cache.client.no_store = false
cache.client.must_revalidate = false
cache.client.proxy_revalidate = false
cache.client.no_transform = true

# Configurazione FilesystemCache
FilesystemCache.pathname = ./cache
FilesystemCache.dir.depth = 3
FilesystemCache.dir.name_length = 2

###########################################################################
# OVERLAYS
###########################################################################

overlays.enabled = false

###########################################################################
# REDACTION
###########################################################################

redaction.enabled = false

###########################################################################
# LOGGING
###########################################################################

log.application.level = info
log.application.ConsoleAppender.enabled = true
log.application.FileAppender.enabled = false
log.application.RollingFileAppender.enabled = false
log.application.SyslogAppender.enabled = false

log.access.ConsoleAppender.enabled = false
log.access.FileAppender.enabled = false
log.access.RollingFileAppender.enabled = false
log.access.SyslogAppender.enabled = false

###########################################################################
# ERROR PAGES
###########################################################################

print_stack_trace_on_error_pages = true
